w
# list mis koosneb kahest listist
v <- c(w,w)
v
v$name
v[["name"]]
v[1]
v[[1]]
v$mymatrix[1:2,3:4]
class(v)
class(mydata)
N = length(myData$time)
#hetkeaeg
t <- Sys.time()
t
class(t)
timeStamp <-  strftime(t,"%Y-%m-%d %H:%M:%S")
timeStamp
class(timeStamp)
myData <- data.frame(time=c("2014-01-23 14:28:21","2014-01-23 14:28:55",
"2014-01-23 14:29:02","2014-01-23 14:31:18"),
speed=c(2.0,2.2,3.4,5.5))
myData
summary(myData)
myData$time <- strptime(myData$time,"%Y-%m-%d %H:%M:%S")
N = length(myData$time)
myData$time[1] - myData$time[2]
N = length(myData$time)
myData$time[2] - myData$time[1]
head(us_state_populations)
# dplyr approach
us_state_populations %>%
select(state, year) %>%
arrange(state)
us_state_populations<-read.csv("data/introductory_state_example.csv")
#esimesed 6 rida andmetest
head(us_state_populations)
#viimased 6 rida andmetest
tail(us_state_populations)
str(us_state_populations)
summary(us_state_populations)
#andmeraami dimensioonid
dim(us_state_populations)
library(tidyverse)
#tulemus omistatakse muutujale df_california_ny, aluseks võtame andmed
#muutujast us_state_populations
df_california_ny<-us_state_populations %>%
#filtreerimne välja osariigid, millen nimed on alltoodud vektoris c(...)
filter(state %in% c("California", "New York"))
dim(df_california_ny)
head(df_california_ny)
df_california_ny_1900<-us_state_populations %>%
#filtreerimne välja osariigid, millen nimed on alltoodud vektoris c(...)
filter(state %in% c("California", "New York"))%>%
filter(year>=1900)
dim(df_california_ny_1900)
head(df_california_ny_1900)
#populatsioon alates aastast 1900
us_state_populations %>%
#valime veerud year ja population
select(year, population) %>%
filter(year>=1900)%>%
glimpse()
#populatsioon kogu perioodi kohta
us_state_populations %>%
select(state, population) %>%
glimpse()
us_state_populations %>%
#otsib veerge mis sisaldavad mustrit "pop" ja lõppevad tähtedega "ion"
select(contains("pop"), ends_with("ion")) %>%
glimpse
us_state_populations %>%
rename(population=population, aasta = year, osariik=state) %>%
glimpse
us_state_populations %>%
#filtreerimne välja osariigid, millen nimed on alltoodud vektoris c(...)
filter(state %in% c("California", "New York"))%>%
#grupeerime osariigi järgi
group_by(state)%>%
#arvutame iga grupi kohta keskmise ja st. hälve
summarise(keskmine=mean(population),mediaan=median(population), mood=mode(population),
sandardhälve=sd(population))
head(us_state_populations)
# dplyr approach
us_state_populations %>%
select(state, year) %>%
arrange(state)
#ilma tidyversita
us_state_populations[order(us_state_populations$state), c("state", "year")]
head(us_state_populations)
# dplyr approach
us_state_populations %>%
select(state, year) %>%
arrange(state)
us_state_populations %>%
select(state, year) %>%
arrange(desc(state))
#arvutame vaatluste arvu igas grupis
us_state_populations%>%
group_by(state)%>%
summarise(count=n())
#arvutame vaatluste arvu igas grupis
us_state_populations%>%
group_by(state)%>%
summarise(count=n())%>%
arrange(desc(count))
us_state_populations%>%
group_by(state)%>%
summarise(count=n())%>%
arrange(count)
#nüüd võime välja filtreerida osariigid, kus  on üle 20 vaatluse
us_state_populations%>%
group_by(state)%>%
summarise(count=n())%>%
arrange(desc(count))%>%
filter(count>20)
us_state_populations%>%
group_by(state)%>%
summarise(count=n())%>%
arrange(count)%>%
head()
us_state_populations %>%
group_by(year) %>%
summarise(obs_count = n()) %>%
mutate(change = obs_count - lag(obs_count))%>%
head()
us_state_populations %>%
group_by(year) %>%
tally() %>%
mutate(change = n - lag(n))
us_state_populations %>%
group_by(year) %>%
tally() %>%
mutate(change = n - lag(n))%>%
head()
#mis aastatel puudub period väärtus?
us_state_populations[is.na(us_state_populations$period),]$year
#meie puhul on siin tegemist näpukaga.
us_state_populations$period<-cut(us_state_populations$year,
#seq genereerib annab kohad, mis jaotab pika intervalli väiksemateks
seq(min(us_state_populations$year)-1,
max(us_state_populations$year),5), include.lowest = T)
us_state_populations[is.na(us_state_populations$period),]$year
seq(min(us_state_populations$year)-1,
max(us_state_populations$year),5)
#mis aastatel puudub period väärtus?
us_state_populations[is.na(us_state_populations$period),]$year
#meie puhul on siin tegemist näpukaga.
us_state_populations$period<-cut(us_state_populations$year,
#seq genereerib annab kohad, mis jaotab pika intervalli väiksemateks
seq(min(us_state_populations$year)-1,
max(us_state_populations$year),5), include.lowest = T)
us_state_populations[is.na(us_state_populations$period),]$year
#mis aastatel puudub period väärtus?
us_state_populations[is.na(us_state_populations$period),]$year
#meie puhul on siin tegemist näpukaga.
us_state_populations$period<-cut(us_state_populations$year,
#seq genereerib annab kohad, mis jaotab pika intervalli väiksemateks
seq(min(us_state_populations$year)-1,
max(us_state_populations$year)+100,5), include.lowest = T)
us_state_populations[is.na(us_state_populations$period),]$year
#mis aastatel puudub period väärtus?
us_state_populations[is.na(us_state_populations$period),]$year
#meie puhul on siin tegemist näpukaga.
us_state_populations$period<-cut(us_state_populations$year,
#seq genereerib annab kohad, mis jaotab pika intervalli väiksemateks
c(1900,2000),5), include.lowest = T)
#mis aastatel puudub period väärtus?
us_state_populations[is.na(us_state_populations$period),]$year
#meie puhul on siin tegemist näpukaga.
us_state_populations$period<-cut(us_state_populations$year,
#seq genereerib annab kohad, mis jaotab pika intervalli väiksemateks
c(1900,2000), include.lowest = T)
us_state_populations[is.na(us_state_populations$period),]$year
#mis aastatel puudub period väärtus?
us_state_populations[is.na(us_state_populations$period),]$year
#meie puhul on siin tegemist näpukaga.
us_state_populations$period<-cut(us_state_populations$year,
#seq genereerib annab kohad, mis jaotab pika intervalli väiksemateks
c(0, 1900,2000, 2011), include.lowest = T)
us_state_populations[is.na(us_state_populations$period),]$year
#mis aastatel puudub period väärtus?
us_state_populations[is.na(us_state_populations$period),]$year
#meie puhul on siin tegemist näpukaga.
us_state_populations$period<-cut(us_state_populations$year,
#seq genereerib annab kohad, mis jaotab pika intervalli väiksemateks
c(1790, 1900,2000, 2011), include.lowest = T)
us_state_populations[is.na(us_state_populations$period),]$year
us_state_populations<-read.csv("data/introductory_state_example.csv")
#esimesed 6 rida andmetest
head(us_state_populations)
#viimased 6 rida andmetest
tail(us_state_populations)
str(us_state_populations)
summary(us_state_populations)
#andmeraami dimensioonid
dim(us_state_populations)
library(tidyverse)
#tulemus omistatakse muutujale df_california_ny, aluseks võtame andmed
#muutujast us_state_populations
df_california_ny<-us_state_populations %>%
#filtreerimne välja osariigid, millen nimed on alltoodud vektoris c(...)
filter(state %in% c("California", "New York"))
dim(df_california_ny)
head(df_california_ny)
df_california_ny_1900<-us_state_populations %>%
#filtreerimne välja osariigid, millen nimed on alltoodud vektoris c(...)
filter(state %in% c("California", "New York"))%>%
filter(year>=1900)
dim(df_california_ny_1900)
head(df_california_ny_1900)
#populatsioon alates aastast 1900
us_state_populations %>%
#valime veerud year ja population
select(year, population) %>%
filter(year>=1900)%>%
glimpse()
#populatsioon kogu perioodi kohta
us_state_populations %>%
select(state, population) %>%
glimpse()
us_state_populations %>%
#otsib veerge mis sisaldavad mustrit "pop" ja lõppevad tähtedega "ion"
select(contains("pop"), ends_with("ion")) %>%
glimpse
us_state_populations %>%
rename(population=population, aasta = year, osariik=state) %>%
glimpse
us_state_populations %>%
#filtreerimne välja osariigid, millen nimed on alltoodud vektoris c(...)
filter(state %in% c("California", "New York"))%>%
#grupeerime osariigi järgi
group_by(state)%>%
#arvutame iga grupi kohta keskmise ja st. hälve
summarise(keskmine=mean(population),mediaan=median(population), mood=mode(population),
sandardhälve=sd(population))
head(us_state_populations)
# dplyr approach
us_state_populations %>%
select(state, year) %>%
arrange(state)%>%
head()
us_state_populations %>%
select(state, year) %>%
arrange(desc(state))%>%
head()
#ilma tidyversita
head(us_state_populations[order(us_state_populations$state), c("state", "year")])
us_state_populations<-us_state_populations %>%
#mutate loob uue muutuja olemasolevate kõrvale
mutate(population_thousand=population/1000)
head(us_state_populations)
#asendame tühikud alakriipsuga
us_state_populations$state=gsub(" ", "_", us_state_populations$state)
#teeme väiketähtdeks
us_state_populations$state=tolower(us_state_populations$state)
head(us_state_populations)
#arvutame vaatluste arvu igas grupis
us_state_populations%>%
group_by(state)%>%
summarise(count=n())%>%
arrange(desc(count))%>%
head()
us_state_populations%>%
group_by(state)%>%
summarise(count=n())%>%
arrange(count)%>%
head()
#nüüd võime välja filtreerida osariigid, kus  on üle 20 vaatluse
us_state_populations%>%
group_by(state)%>%
summarise(count=n())%>%
arrange(desc(count))%>%
filter(count>20)
us_state_populations %>%
group_by(year) %>%
summarise(obs_count = n()) %>%
mutate(change = obs_count - lag(obs_count))%>%
head()
us_state_populations %>%
group_by(year) %>%
tally() %>%
mutate(change = n - lag(n))%>%
head()
#cut lõikab muutuja faktoriteks
us_state_populations$period<-cut(us_state_populations$year,
#seq genereerib annab kohad, mis jaotab pika intervalli väiksemateks
seq(min(us_state_populations$year)-1,
max(us_state_populations$year)+2,5))
#vaatame
table(us_state_populations$year, us_state_populations$period)[1:5,1:6]
colSums(is.na(us_state_populations))
#mis aastatel puudub period väärtus?
us_state_populations[is.na(us_state_populations$period),]$year
#meie puhul on siin tegemist näpukaga.
us_state_populations$period<-cut(us_state_populations$year,
#seq genereerib annab kohad, mis jaotab pika intervalli väiksemateks
c(1790, 1900,2000, 2011), include.lowest = T)
us_state_populations[is.na(us_state_populations$period),]$year
#mis aastatel puudub period väärtus?
us_state_populations[is.na(us_state_populations$period),]$year
#meie puhul on siin tegemist näpukaga.
us_state_populations$period<-cut(us_state_populations$year,
#seq genereerib annab kohad, mis jaotab pika intervalli väiksemateks
seq(min(us_state_populations$year)-1,
max(us_state_populations$year),5), include.lowest = T)
us_state_populations[is.na(us_state_populations$period),]$year
us_state_populations<-read.csv("data/introductory_state_example.csv")
#esimesed 6 rida andmetest
head(us_state_populations)
#viimased 6 rida andmetest
tail(us_state_populations)
str(us_state_populations)
summary(us_state_populations)
#andmeraami dimensioonid
dim(us_state_populations)
library(tidyverse)
#tulemus omistatakse muutujale df_california_ny, aluseks võtame andmed
#muutujast us_state_populations
df_california_ny<-us_state_populations %>%
#filtreerimne välja osariigid, millen nimed on alltoodud vektoris c(...)
filter(state %in% c("California", "New York"))
dim(df_california_ny)
head(df_california_ny)
df_california_ny_1900<-us_state_populations %>%
#filtreerimne välja osariigid, millen nimed on alltoodud vektoris c(...)
filter(state %in% c("California", "New York"))%>%
filter(year>=1900)
dim(df_california_ny_1900)
head(df_california_ny_1900)
#populatsioon alates aastast 1900
us_state_populations %>%
#valime veerud year ja population
select(year, population) %>%
filter(year>=1900)%>%
glimpse()
#populatsioon kogu perioodi kohta
us_state_populations %>%
select(state, population) %>%
glimpse()
us_state_populations %>%
#otsib veerge mis sisaldavad mustrit "pop" ja lõppevad tähtedega "ion"
select(contains("pop"), ends_with("ion")) %>%
glimpse
us_state_populations %>%
rename(population=population, aasta = year, osariik=state) %>%
glimpse
us_state_populations %>%
#filtreerimne välja osariigid, millen nimed on alltoodud vektoris c(...)
filter(state %in% c("California", "New York"))%>%
#grupeerime osariigi järgi
group_by(state)%>%
#arvutame iga grupi kohta keskmise ja st. hälve
summarise(keskmine=mean(population),mediaan=median(population), mood=mode(population),
sandardhälve=sd(population))
head(us_state_populations)
# dplyr approach
us_state_populations %>%
select(state, year) %>%
arrange(state)%>%
head()
us_state_populations %>%
select(state, year) %>%
arrange(desc(state))%>%
head()
#ilma tidyversita
head(us_state_populations[order(us_state_populations$state), c("state", "year")])
us_state_populations<-us_state_populations %>%
#mutate loob uue muutuja olemasolevate kõrvale
mutate(population_thousand=population/1000)
head(us_state_populations)
#asendame tühikud alakriipsuga
us_state_populations$state=gsub(" ", "_", us_state_populations$state)
#teeme väiketähtdeks
us_state_populations$state=tolower(us_state_populations$state)
head(us_state_populations)
#arvutame vaatluste arvu igas grupis
us_state_populations%>%
group_by(state)%>%
summarise(count=n())%>%
arrange(desc(count))%>%
head()
us_state_populations%>%
group_by(state)%>%
summarise(count=n())%>%
arrange(count)%>%
head()
#nüüd võime välja filtreerida osariigid, kus  on üle 20 vaatluse
us_state_populations%>%
group_by(state)%>%
summarise(count=n())%>%
arrange(desc(count))%>%
filter(count>20)
us_state_populations %>%
group_by(year) %>%
summarise(obs_count = n()) %>%
mutate(change = obs_count - lag(obs_count))%>%
head()
us_state_populations %>%
group_by(year) %>%
tally() %>%
mutate(change = n - lag(n))%>%
head()
#cut lõikab muutuja faktoriteks
us_state_populations$period<-cut(us_state_populations$year,
#seq genereerib annab kohad, mis jaotab pika intervalli väiksemateks
seq(min(us_state_populations$year)-1,
max(us_state_populations$year)+2,5))
#vaatame
table(us_state_populations$year, us_state_populations$period)[1:5,1:6]
colSums(is.na(us_state_populations))
#mis aastatel puudub period väärtus?
us_state_populations[is.na(us_state_populations$period),]$year
#meie puhul on siin tegemist näpukaga.
us_state_populations$period<-cut(us_state_populations$year,
#seq genereerib annab kohad, mis jaotab pika intervalli väiksemateks
seq(min(us_state_populations$year)-1,
max(us_state_populations$year)+1,5), include.lowest = T)
us_state_populations[is.na(us_state_populations$period),]$year
#mis aastatel puudub period väärtus?
us_state_populations[is.na(us_state_populations$period),]$year
#meie puhul on siin tegemist näpukaga.
us_state_populations$period<-cut(us_state_populations$year,
#seq genereerib annab kohad, mis jaotab pika intervalli väiksemateks
seq(min(us_state_populations$year)-1,
max(us_state_populations$year)+10,5), include.lowest = T)
us_state_populations[is.na(us_state_populations$period),]$year
arvutaKeskmine<-function(arvud){
summa=sum(arvud)
return(summa/length(arvud))
}
arvutaKeskmine<-function(arvud){
summa=sum(arvud)
return(summa/length(arvud))
}
arvutaKeskmine(c)
#funktsiooni sisend
c<-c(1,2,3)
#funktsiooni kasutamine
tulemus<-mean(c)
#funktsiooni väljundi väärtus
tulemus
arvutaKeskmine<-function(arvud){
summa=sum(arvud)
return(summa/length(arvud))
}
arvutaKeskmine(c)
sum(c)
arvutaKeskmine<-function(arvud){
summa=sum(arvud)
return(summa/length(arvud))
}
arvutaKeskmine(c)
sum(c)/length(c)
arvutaKeskmine<-function(arvud){
summa=sum(arvud)
n=length(arvud)
tulemus=summa/n
#tagastame tulemuse
return(tulemus)
}
arvutaKeskmine(c)
sum(c)/length(c)
arvutaKeskmine<-function(arvud){
summa=sum(arvud)
n=length(arvud)
tulemus=summa/n
#tagastame tulemuse
return(tulemus)
}
arvutaKeskmine(c)
vec=c(NA, NULL, 1, 2.0)
arvutaKeskmine(vec)
arvutaKeskmine<-function(arvud, na.rm=T){
if (na.rm) {
arvud=arvud[!is.na(arvud)]
}
summa=sum(arvud)
n=length(arvud)
tulemus=summa/n
#tagastame tulemuse
return(tulemus)
}
arvutaKeskmine(vec)
vec=c(NA, 1, 2.0)
arvutaKeskmine(vec)
arvutaKeskmine<-function(arvud, na.rm=T){
if (na.rm) {
arvud=arvud[!is.na(arvud)]
}
summa=sum(arvud)
n=length(arvud)
tulemus=summa/n
#tagastame tulemuse
return(tulemus)
}
arvutaKeskmine(vec)
vec=c(NULL, 1, 2.0)
arvutaKeskmine(vec)
vec=c(NA, NULL, 1, 2.0)
arvutaKeskmine(vec)
arvutaKeskmine<-function(arvud, na.rm=T){
if (na.rm) {
arvud=arvud[!is.na(arvud)]
}
summa=sum(arvud)
n=length(arvud)
tulemus=summa/n
#tagastame tulemuse
return(tulemus)
}
arvutaKeskmine(vec)
